/* tslint:disable */
/* eslint-disable */
/**
 * Overmind Backend
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 0.1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  CreatePromptRequest,
  GenerateCriteriaResponse,
  HTTPValidationError,
  PromptDetail,
  PromptResponse,
  UpdateCriteriaRequest,
  UpdateDisplayNameRequest,
} from '../models/index';
import {
    CreatePromptRequestFromJSON,
    CreatePromptRequestToJSON,
    GenerateCriteriaResponseFromJSON,
    GenerateCriteriaResponseToJSON,
    HTTPValidationErrorFromJSON,
    HTTPValidationErrorToJSON,
    PromptDetailFromJSON,
    PromptDetailToJSON,
    PromptResponseFromJSON,
    PromptResponseToJSON,
    UpdateCriteriaRequestFromJSON,
    UpdateCriteriaRequestToJSON,
    UpdateDisplayNameRequestFromJSON,
    UpdateDisplayNameRequestToJSON,
} from '../models/index';

export interface CreatePromptApiV1PromptsPostRequest {
    createPromptRequest: CreatePromptRequest;
    useCache?: boolean;
}

export interface GeneratePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePostRequest {
    promptId: string;
    useCache?: boolean;
}

export interface GetPromptApiV1PromptsPromptIdGetRequest {
    promptId: string;
    useCache?: boolean;
}

export interface GetPromptCriteriaApiV1PromptsPromptIdCriteriaGetRequest {
    promptId: string;
    useCache?: boolean;
}

export interface ListPromptsApiV1PromptsGetRequest {
    projectId: string;
    slug?: string | null;
    useCache?: boolean;
}

export interface UpdatePromptCriteriaApiV1PromptsPromptIdCriteriaPutRequest {
    promptId: string;
    updateCriteriaRequest: UpdateCriteriaRequest;
    useCache?: boolean;
}

export interface UpdatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePutRequest {
    promptId: string;
    updateDisplayNameRequest: UpdateDisplayNameRequest;
    useCache?: boolean;
}

/**
 * 
 */
export class PromptsApi extends runtime.BaseAPI {

    /**
     * Create a new prompt or return existing one if identical.  If a prompt with the same slug and hash exists, returns the existing prompt. If a prompt with the same slug but different hash exists, creates a new version. Otherwise, creates a new prompt with version 1.
     * Create Prompt
     */
    async createPromptApiV1PromptsPostRaw(requestParameters: CreatePromptApiV1PromptsPostRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PromptResponse>> {
        if (requestParameters['createPromptRequest'] == null) {
            throw new runtime.RequiredError(
                'createPromptRequest',
                'Required parameter "createPromptRequest" was null or undefined when calling createPromptApiV1PromptsPost().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreatePromptRequestToJSON(requestParameters['createPromptRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PromptResponseFromJSON(jsonValue));
    }

    /**
     * Create a new prompt or return existing one if identical.  If a prompt with the same slug and hash exists, returns the existing prompt. If a prompt with the same slug but different hash exists, creates a new version. Otherwise, creates a new prompt with version 1.
     * Create Prompt
     */
    async createPromptApiV1PromptsPost(requestParameters: CreatePromptApiV1PromptsPostRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PromptResponse> {
        const response = await this.createPromptApiV1PromptsPostRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Trigger automatic generation of evaluation criteria for a prompt.  This will: 1. Fetch the first 10 spans linked to this prompt 2. Use Claude Sonnet 4.5 to analyze them and generate up to 5 evaluation rules 3. Store the generated criteria in the prompt\'s evaluation_criteria field  Returns a task_id that can be used to check the status of the generation.
     * Generate Prompt Criteria
     */
    async generatePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePostRaw(requestParameters: GeneratePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePostRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GenerateCriteriaResponse>> {
        if (requestParameters['promptId'] == null) {
            throw new runtime.RequiredError(
                'promptId',
                'Required parameter "promptId" was null or undefined when calling generatePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePost().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/{prompt_id}/criteria/generate`;
        urlPath = urlPath.replace(`{${"prompt_id"}}`, encodeURIComponent(String(requestParameters['promptId'])));

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GenerateCriteriaResponseFromJSON(jsonValue));
    }

    /**
     * Trigger automatic generation of evaluation criteria for a prompt.  This will: 1. Fetch the first 10 spans linked to this prompt 2. Use Claude Sonnet 4.5 to analyze them and generate up to 5 evaluation rules 3. Store the generated criteria in the prompt\'s evaluation_criteria field  Returns a task_id that can be used to check the status of the generation.
     * Generate Prompt Criteria
     */
    async generatePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePost(requestParameters: GeneratePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePostRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GenerateCriteriaResponse> {
        const response = await this.generatePromptCriteriaApiV1PromptsPromptIdCriteriaGeneratePostRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Get a specific prompt by its ID. prompt_id format: {project_id}_{version}_{slug}
     * Get Prompt
     */
    async getPromptApiV1PromptsPromptIdGetRaw(requestParameters: GetPromptApiV1PromptsPromptIdGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PromptDetail>> {
        if (requestParameters['promptId'] == null) {
            throw new runtime.RequiredError(
                'promptId',
                'Required parameter "promptId" was null or undefined when calling getPromptApiV1PromptsPromptIdGet().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/{prompt_id}`;
        urlPath = urlPath.replace(`{${"prompt_id"}}`, encodeURIComponent(String(requestParameters['promptId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PromptDetailFromJSON(jsonValue));
    }

    /**
     * Get a specific prompt by its ID. prompt_id format: {project_id}_{version}_{slug}
     * Get Prompt
     */
    async getPromptApiV1PromptsPromptIdGet(requestParameters: GetPromptApiV1PromptsPromptIdGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PromptDetail> {
        const response = await this.getPromptApiV1PromptsPromptIdGetRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Get evaluation criteria for a prompt.  Returns the evaluation_criteria field from the prompt, or None if not set.
     * Get Prompt Criteria
     */
    async getPromptCriteriaApiV1PromptsPromptIdCriteriaGetRaw(requestParameters: GetPromptCriteriaApiV1PromptsPromptIdCriteriaGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<any>> {
        if (requestParameters['promptId'] == null) {
            throw new runtime.RequiredError(
                'promptId',
                'Required parameter "promptId" was null or undefined when calling getPromptCriteriaApiV1PromptsPromptIdCriteriaGet().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/{prompt_id}/criteria`;
        urlPath = urlPath.replace(`{${"prompt_id"}}`, encodeURIComponent(String(requestParameters['promptId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        if (this.isJsonMime(response.headers.get('content-type'))) {
            return new runtime.JSONApiResponse<any>(response);
        } else {
            return new runtime.TextApiResponse(response) as any;
        }
    }

    /**
     * Get evaluation criteria for a prompt.  Returns the evaluation_criteria field from the prompt, or None if not set.
     * Get Prompt Criteria
     */
    async getPromptCriteriaApiV1PromptsPromptIdCriteriaGet(requestParameters: GetPromptCriteriaApiV1PromptsPromptIdCriteriaGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<any> {
        const response = await this.getPromptCriteriaApiV1PromptsPromptIdCriteriaGetRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * List all prompts for a project.  Optionally filter by slug to get all versions of a specific prompt.
     * List Prompts
     */
    async listPromptsApiV1PromptsGetRaw(requestParameters: ListPromptsApiV1PromptsGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<PromptDetail>>> {
        if (requestParameters['projectId'] == null) {
            throw new runtime.RequiredError(
                'projectId',
                'Required parameter "projectId" was null or undefined when calling listPromptsApiV1PromptsGet().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['projectId'] != null) {
            queryParameters['project_id'] = requestParameters['projectId'];
        }

        if (requestParameters['slug'] != null) {
            queryParameters['slug'] = requestParameters['slug'];
        }

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(PromptDetailFromJSON));
    }

    /**
     * List all prompts for a project.  Optionally filter by slug to get all versions of a specific prompt.
     * List Prompts
     */
    async listPromptsApiV1PromptsGet(requestParameters: ListPromptsApiV1PromptsGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<PromptDetail>> {
        const response = await this.listPromptsApiV1PromptsGetRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Update evaluation criteria for a prompt.  The evaluation criteria should be a JSON object where: - Keys are metric names (e.g., \"correctness\", \"completeness\") - Values are lists of rules defining that metric  Parameters: - evaluation_criteria: The new criteria to apply - re_evaluate: If True and criteria changed, re-evaluate last 50 spans for this prompt  Example: {   \"evaluation_criteria\": {     \"correctness\": [       \"Must provide accurate information\",       \"Must contain no factual errors\",       \"Must be logically consistent\"     ]   },   \"re_evaluate\": true }
     * Update Prompt Criteria
     */
    async updatePromptCriteriaApiV1PromptsPromptIdCriteriaPutRaw(requestParameters: UpdatePromptCriteriaApiV1PromptsPromptIdCriteriaPutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<any>> {
        if (requestParameters['promptId'] == null) {
            throw new runtime.RequiredError(
                'promptId',
                'Required parameter "promptId" was null or undefined when calling updatePromptCriteriaApiV1PromptsPromptIdCriteriaPut().'
            );
        }

        if (requestParameters['updateCriteriaRequest'] == null) {
            throw new runtime.RequiredError(
                'updateCriteriaRequest',
                'Required parameter "updateCriteriaRequest" was null or undefined when calling updatePromptCriteriaApiV1PromptsPromptIdCriteriaPut().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/{prompt_id}/criteria`;
        urlPath = urlPath.replace(`{${"prompt_id"}}`, encodeURIComponent(String(requestParameters['promptId'])));

        const response = await this.request({
            path: urlPath,
            method: 'PUT',
            headers: headerParameters,
            query: queryParameters,
            body: UpdateCriteriaRequestToJSON(requestParameters['updateCriteriaRequest']),
        }, initOverrides);

        if (this.isJsonMime(response.headers.get('content-type'))) {
            return new runtime.JSONApiResponse<any>(response);
        } else {
            return new runtime.TextApiResponse(response) as any;
        }
    }

    /**
     * Update evaluation criteria for a prompt.  The evaluation criteria should be a JSON object where: - Keys are metric names (e.g., \"correctness\", \"completeness\") - Values are lists of rules defining that metric  Parameters: - evaluation_criteria: The new criteria to apply - re_evaluate: If True and criteria changed, re-evaluate last 50 spans for this prompt  Example: {   \"evaluation_criteria\": {     \"correctness\": [       \"Must provide accurate information\",       \"Must contain no factual errors\",       \"Must be logically consistent\"     ]   },   \"re_evaluate\": true }
     * Update Prompt Criteria
     */
    async updatePromptCriteriaApiV1PromptsPromptIdCriteriaPut(requestParameters: UpdatePromptCriteriaApiV1PromptsPromptIdCriteriaPutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<any> {
        const response = await this.updatePromptCriteriaApiV1PromptsPromptIdCriteriaPutRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Update the display name for a prompt.  This allows users to customize the display name that was auto-generated or set a new display name for existing prompts.  Args:     prompt_id: The prompt ID in format {project_id}_{version}_{slug}     request: Request body containing the new display_name  Example: {   \"display_name\": \"Customer Support Assistant\" }
     * Update Prompt Display Name
     */
    async updatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePutRaw(requestParameters: UpdatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<any>> {
        if (requestParameters['promptId'] == null) {
            throw new runtime.RequiredError(
                'promptId',
                'Required parameter "promptId" was null or undefined when calling updatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePut().'
            );
        }

        if (requestParameters['updateDisplayNameRequest'] == null) {
            throw new runtime.RequiredError(
                'updateDisplayNameRequest',
                'Required parameter "updateDisplayNameRequest" was null or undefined when calling updatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePut().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['useCache'] != null) {
            queryParameters['use_cache'] = requestParameters['useCache'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("OAuth2PasswordBearer", []);
        }


        let urlPath = `/api/v1/prompts/{prompt_id}/display-name`;
        urlPath = urlPath.replace(`{${"prompt_id"}}`, encodeURIComponent(String(requestParameters['promptId'])));

        const response = await this.request({
            path: urlPath,
            method: 'PUT',
            headers: headerParameters,
            query: queryParameters,
            body: UpdateDisplayNameRequestToJSON(requestParameters['updateDisplayNameRequest']),
        }, initOverrides);

        if (this.isJsonMime(response.headers.get('content-type'))) {
            return new runtime.JSONApiResponse<any>(response);
        } else {
            return new runtime.TextApiResponse(response) as any;
        }
    }

    /**
     * Update the display name for a prompt.  This allows users to customize the display name that was auto-generated or set a new display name for existing prompts.  Args:     prompt_id: The prompt ID in format {project_id}_{version}_{slug}     request: Request body containing the new display_name  Example: {   \"display_name\": \"Customer Support Assistant\" }
     * Update Prompt Display Name
     */
    async updatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePut(requestParameters: UpdatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<any> {
        const response = await this.updatePromptDisplayNameApiV1PromptsPromptIdDisplayNamePutRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
